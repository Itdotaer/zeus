<?xml version="1.0" encoding="UTF-8"?>
<model>
  <entity name="model" root="true">
    <entity-ref name="slb-cluster" />
    <entity-ref name="application" />
  </entity>
  <entity name="slb-cluster">
    <attribute name="name" value-type="String" />
    <element name="nginx-bin" value-type="String" />
    <element name="nginx-conf" value-type="String" />
    <element name="nginx-worker-processes" value-type="int" />
    <entity-ref name="vip" type="list" names="vips" xml-indent="true" />
    <entity-ref name="slb-server" type="list" names="slb-servers" xml-indent="true" />
    <entity-ref name="virtual-server" type="list" names="virtual-servers" xml-indent="true" />
  </entity>
  <entity name="vip">
    <attribute name="ip" value-type="String" />
  </entity>
  <entity name="slb-server">
    <attribute name="ip" value-type="String" />
    <attribute name="host-name" value-type="String" />
    <attribute name="enable" value-type="boolean" />
  </entity>
  <entity name="virtual-server">
    <attribute name="name" value-type="String" />
    <attribute name="ssl" value-type="boolean" />
    <entity-ref name="slb-cluster" />
    <entity-ref name="domain" type="list" names="domains" xml-indent="true" />
  </entity>
  <entity name="domain">
    <attribute name="name" value-type="String" />
    <attribute name="port" value-type="int" />
  </entity>
  <entity name="application">
    <attribute name="name" value-type="String" />
    <attribute name="app-id" value-type="String" />
    <entity-ref name="app-slb" type="list" names="app-slbs" xml-indent="true" />
    <entity-ref name="health-check" />
    <entity-ref name="load-balancing-method" />
    <entity-ref name="app-server" type="list" names="app-servers" xml-indent="true" />
  </entity>
  <entity name="app-slb">
    <element name="path" value-type="String" />
    <entity-ref name="virtual-server" />
  </entity>
  <entity name="health-check">
    <attribute name="interval" value-type="int" />
    <attribute name="fails" value-type="int" />
    <attribute name="passes" value-type="int" />
    <element name="uri" value-type="String" />
  </entity>
  <entity name="load-balancing-method">
    <attribute name="type" value-type="String" />
    <element name="value" value-type="String" />
  </entity>
  <entity name="app-server">
    <attribute name="port" value-type="int" />
    <attribute name="weight" value-type="int" />
    <attribute name="max-fails" value-type="int" />
    <attribute name="fail-timeout" value-type="int" />
    <attribute name="healthy" value-type="boolean" />
    <attribute name="enable" value-type="boolean" />
    <entity-ref name="server" />
  </entity>
  <entity name="server">
    <attribute name="ip" value-type="String" />
    <attribute name="host-name" value-type="String" />
    <attribute name="up" value-type="boolean" />
  </entity>
</model>

